# Week 15. ROS 센서·제어 연동

## 🎯 이번 주 목표

이번 주의 목표는  
**센서 데이터가 실제 제어로 이어지는 ROS 기반 흐름을 이해하고 구현하는 것**이다.

자율 시스템에서 핵심은:
- 센서가 무엇을 감지하고
- 그 정보가 어떻게 판단으로 전달되며
- 어떤 제어 명령으로 변환되는가

이다.

이번 주에는 단순한 메시지 통신을 넘어,
**센서 → 판단 → 제어의 전체 연결 구조**를 만든다.

---

## 🧠 핵심 개념

### 1. 센서는 입력이다
센서는 시스템의 눈과 귀다.

- 거리 센서
- IMU
- 카메라

이 모든 데이터는
ROS 토픽을 통해 시스템으로 유입된다.

---

### 2. 판단 노드의 역할
센서 데이터 자체는 행동을 결정하지 않는다.

- 임계값 판단
- 상태 분류
- 조건 충족 여부

를 판단 노드에서 수행한다.

이 노드는
제어 노드와 센서 노드를 연결하는 핵심이다.

---

### 3. 제어는 메시지다
ROS에서 제어는:
- 직접 장치를 조작하는 것이 아니라
- 제어 메시지를 발행하는 방식

으로 이루어진다.

이 구조는
시스템을 안전하고 유연하게 만든다.

---

## 🛠️ 실습 / 작업 내용

### 1. 센서 토픽 구독
- 센서 데이터 토픽 선택
- 실시간 데이터 확인
- 데이터 의미 해석

---

### 2. 판단 노드 구현
- 조건 판단 로직 작성
- 특정 조건에서 제어 신호 생성
- 판단 결과를 새로운 토픽으로 발행

---

### 3. 제어 노드 연결
- 제어 토픽 구독
- 메시지에 따라 동작 변경
- 전체 흐름 테스트

---

## 📁 산출물

- 센서 노드 / 판단 노드 / 제어 노드 코드
- 토픽 흐름 다이어그램
- 테스트 실행 로그

---

## ❗ 문제와 해결

### 문제 1. 데이터가 늦게 반응한다
- 원인: 토픽 주기 설정 문제
- 해결:
  publish 주기와 queue 크기를 점검한다

---

### 문제 2. 제어가 불안정하다
- 원인: 판단 조건이 불명확
- 해결:
  조건 범위를 명확히 정의한다

---

## 🔄 회고

- 센서 데이터가 어떻게 제어로 연결되었는가?
- 판단 노드의 역할이 얼마나 중요한지 느꼈는가?
- 다음 주 드론 프레임 설계로 넘어가기 전에 더 개선하고 싶은 제어 흐름은 무엇인가?

이번 회고는  
**ROS를 ‘통신 도구’가 아니라 ‘자율 시스템의 신경망’으로 이해하기 시작했는지**를 점검하는 단계다.
